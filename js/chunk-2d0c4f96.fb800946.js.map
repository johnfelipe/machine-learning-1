{"version":3,"sources":["webpack:///./src/components/TSModelCompiler.vue?e454","webpack:///src/components/TSModelCompiler.vue","webpack:///./src/components/TSModelCompiler.vue?5289","webpack:///./src/components/TSModelCompiler.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","component","length","loading","on","$event","staticClass","plugActionDisabled","plugAction","trashActionDisabled","trashAction","imageActionDisabled","$bvModal","show","index","onToggleToolbar","toggleIcon","_v","utilities","tf","train","options","editActionDisabled","model","value","callback","$$v","compilerOptimizerSelected","expression","losses","compilerLossSelected","inputUnitsNormalize","outputUnitsNormalize","shuffle","positiveFormatter","epochs","batchSize","stepsPerEpoch","validationSteps","percentageFormatter","validationSplit","staticStyle","ref","staticRenderFns","name","components","mixins","mixin","data","serializable","fileChart","importData","computed","disabled","global","inputShape","watch","next","$options","sockets","onerror","onopen","onmessage","methods","trashActionEvent","output","plugActionNext","width","height","callbacks","worker","event","error","terminate","plugActionEnd","$tfvis","history","$refs","$tf","loadLayersModel","then","console","isShow","save","io","browserHTTPRequest","$disconnect","plugActionEvent","training","inputMatrix","outputMatrix","loss","normalizationData","inputTensorJSON","outputTensorJSON","postMessage"],"mappings":"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","file":"js/chunk-2d0c4f96.fb800946.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('component-layout',{attrs:{\"component\":_vm.component,\"length\":_vm.length,\"loading\":_vm.loading},on:{\"update:component\":function($event){_vm.component=$event},\"update:length\":function($event){_vm.length=$event},\"update:loading\":function($event){_vm.loading=$event}}},[_c('b-form',{staticClass:\"form-toolbar-rtl\",attrs:{\"inline\":\"\"}},[_c('b-button',{attrs:{\"size\":\"badge\",\"disabled\":_vm.plugActionDisabled},on:{\"click\":_vm.plugAction}},[_c('b-icon',{staticClass:\"btn-icon\",attrs:{\"icon\":\"plug\"}})],1),_c('b-button',{attrs:{\"size\":\"badge\",\"disabled\":_vm.trashActionDisabled},on:{\"click\":_vm.trashAction}},[_c('b-icon',{staticClass:\"btn-icon\",attrs:{\"icon\":\"trash\"}})],1),_c('b-button',{attrs:{\"size\":\"badge\",\"disabled\":_vm.imageActionDisabled},on:{\"click\":function($event){return _vm.$bvModal.show('model-view-' + _vm.component.index)}}},[_c('b-icon',{staticClass:\"btn-icon\",attrs:{\"icon\":\"card-image\"}})],1),_c('b-button',{attrs:{\"size\":\"badge\"},on:{\"click\":_vm.onToggleToolbar}},[_c('b-icon',{attrs:{\"icon\":_vm.toggleIcon}})],1)],1),_c('b-collapse',{attrs:{\"visible\":_vm.toggleIcon === 'caret-up'}},[_c('b-form',{attrs:{\"inline\":\"\"}},[_c('div',{staticClass:\"indexInput\"},[_c('label',[_vm._v(\"Compiler Optimizer\")]),_c('b-form-select',{attrs:{\"options\":_vm.utilities.tf.train.options,\"disabled\":_vm.editActionDisabled},model:{value:(_vm.compilerOptimizerSelected),callback:function ($$v) {_vm.compilerOptimizerSelected=$$v},expression:\"compilerOptimizerSelected\"}})],1),_c('div',{staticClass:\"indexInput\"},[_c('label',[_vm._v(\"Compiler Loss\")]),_c('b-form-select',{attrs:{\"options\":_vm.utilities.tf.losses.options,\"disabled\":_vm.editActionDisabled},model:{value:(_vm.compilerLossSelected),callback:function ($$v) {_vm.compilerLossSelected=$$v},expression:\"compilerLossSelected\"}})],1),_c('div',{staticClass:\"indexInput\"},[_c('label',[_vm._v(\"Input Units Normalize\")]),_c('b-form-select',{attrs:{\"options\":[true, false],\"disabled\":_vm.editActionDisabled},model:{value:(_vm.inputUnitsNormalize),callback:function ($$v) {_vm.inputUnitsNormalize=$$v},expression:\"inputUnitsNormalize\"}})],1),_c('div',{staticClass:\"indexInput\"},[_c('label',[_vm._v(\"Output Units Normalize\")]),_c('b-form-select',{attrs:{\"options\":[true, false],\"disabled\":_vm.editActionDisabled},model:{value:(_vm.outputUnitsNormalize),callback:function ($$v) {_vm.outputUnitsNormalize=$$v},expression:\"outputUnitsNormalize\"}})],1),_c('div',{staticClass:\"indexInput\"},[_c('label',[_vm._v(\"Shuffle\")]),_c('b-form-select',{attrs:{\"options\":[true, false],\"disabled\":_vm.editActionDisabled},model:{value:(_vm.shuffle),callback:function ($$v) {_vm.shuffle=$$v},expression:\"shuffle\"}})],1)]),_c('b-form',{attrs:{\"inline\":\"\"}},[_c('div',{staticClass:\"indexInput\"},[_c('label',[_vm._v(\"Epochs\")]),_c('b-form-spinbutton',{attrs:{\"min\":\"1\",\"max\":\"9999\",\"formatter-fn\":_vm.positiveFormatter,\"disabled\":_vm.editActionDisabled},model:{value:(_vm.epochs),callback:function ($$v) {_vm.epochs=$$v},expression:\"epochs\"}})],1),_c('div',{staticClass:\"indexInput\"},[_c('label',[_vm._v(\"Batch Size\")]),_c('b-form-spinbutton',{attrs:{\"min\":\"0\",\"max\":\"9999\",\"formatter-fn\":_vm.positiveFormatter,\"disabled\":_vm.editActionDisabled},model:{value:(_vm.batchSize),callback:function ($$v) {_vm.batchSize=$$v},expression:\"batchSize\"}})],1),_c('div',{staticClass:\"indexInput\"},[_c('label',[_vm._v(\"Steps Per Epoch\")]),_c('b-form-spinbutton',{attrs:{\"min\":\"0\",\"max\":\"9999\",\"formatter-fn\":_vm.positiveFormatter,\"disabled\":_vm.editActionDisabled},model:{value:(_vm.stepsPerEpoch),callback:function ($$v) {_vm.stepsPerEpoch=$$v},expression:\"stepsPerEpoch\"}})],1),_c('div',{staticClass:\"indexInput\"},[_c('label',[_vm._v(\"Validation Steps\")]),_c('b-form-spinbutton',{attrs:{\"min\":\"0\",\"max\":\"9999\",\"formatter-fn\":_vm.positiveFormatter,\"disabled\":_vm.editActionDisabled},model:{value:(_vm.validationSteps),callback:function ($$v) {_vm.validationSteps=$$v},expression:\"validationSteps\"}})],1),_c('div',{staticClass:\"indexInput\"},[_c('label',[_vm._v(\"Validation Split\")]),_c('b-form-spinbutton',{attrs:{\"min\":\"0.0\",\"max\":\"1.0\",\"step\":\"0.01\",\"formatter-fn\":_vm.percentageFormatter,\"disabled\":_vm.editActionDisabled},model:{value:(_vm.validationSplit),callback:function ($$v) {_vm.validationSplit=$$v},expression:\"validationSplit\"}})],1)])],1),_c('div',{staticStyle:{\"margin-top\":\"8px\"}}),_c('b-modal',{ref:\"modal\",attrs:{\"id\":'model-view-' + _vm.component.index,\"title\":\"TS Model View\",\"static\":true,\"hide-footer\":true,\"size\":\"lg\"}},[_c('div',{ref:\"draw\"})])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <component-layout :component.sync=\"component\" :length.sync=\"length\" :loading.sync=\"loading\">\n    <b-form class=\"form-toolbar-rtl\" inline>\n      <b-button size=\"badge\" @click=\"plugAction\" :disabled=\"plugActionDisabled\">\n        <b-icon icon=\"plug\" class=\"btn-icon\"></b-icon>\n      </b-button>\n      <b-button size=\"badge\" @click=\"trashAction\" :disabled=\"trashActionDisabled\">\n        <b-icon icon=\"trash\" class=\"btn-icon\"></b-icon>\n      </b-button>\n      <b-button\n        size=\"badge\"\n        @click=\"$bvModal.show('model-view-' + component.index)\"\n        :disabled=\"imageActionDisabled\"\n      >\n        <b-icon icon=\"card-image\" class=\"btn-icon\"></b-icon>\n      </b-button>\n      <b-button size=\"badge\" @click=\"onToggleToolbar\">\n        <b-icon :icon=\"toggleIcon\"></b-icon>\n      </b-button>\n    </b-form>\n\n    <b-collapse :visible=\"toggleIcon === 'caret-up'\">\n      <b-form inline>\n        <div class=\"indexInput\">\n          <label>Compiler Optimizer</label>\n          <b-form-select\n            v-model=\"compilerOptimizerSelected\"\n            :options=\"utilities.tf.train.options\"\n            :disabled=\"editActionDisabled\"\n          ></b-form-select>\n        </div>\n\n        <div class=\"indexInput\">\n          <label>Compiler Loss</label>\n          <b-form-select\n            v-model=\"compilerLossSelected\"\n            :options=\"utilities.tf.losses.options\"\n            :disabled=\"editActionDisabled\"\n          ></b-form-select>\n        </div>\n\n        <div class=\"indexInput\">\n          <label>Input Units Normalize</label>\n          <b-form-select\n            v-model=\"inputUnitsNormalize\"\n            :options=\"[true, false]\"\n            :disabled=\"editActionDisabled\"\n          ></b-form-select>\n        </div>\n\n        <div class=\"indexInput\">\n          <label>Output Units Normalize</label>\n          <b-form-select\n            v-model=\"outputUnitsNormalize\"\n            :options=\"[true, false]\"\n            :disabled=\"editActionDisabled\"\n          ></b-form-select>\n        </div>\n\n        <div class=\"indexInput\">\n          <label>Shuffle</label>\n          <b-form-select v-model=\"shuffle\" :options=\"[true, false]\" :disabled=\"editActionDisabled\"></b-form-select>\n        </div>\n      </b-form>\n\n      <b-form inline>\n        <div class=\"indexInput\">\n          <label>Epochs</label>\n          <b-form-spinbutton\n            v-model=\"epochs\"\n            min=\"1\"\n            max=\"9999\"\n            :formatter-fn=\"positiveFormatter\"\n            :disabled=\"editActionDisabled\"\n          ></b-form-spinbutton>\n        </div>\n\n        <div class=\"indexInput\">\n          <label>Batch Size</label>\n          <b-form-spinbutton\n            v-model=\"batchSize\"\n            min=\"0\"\n            max=\"9999\"\n            :formatter-fn=\"positiveFormatter\"\n            :disabled=\"editActionDisabled\"\n          ></b-form-spinbutton>\n        </div>\n\n        <div class=\"indexInput\">\n          <label>Steps Per Epoch</label>\n          <b-form-spinbutton\n            v-model=\"stepsPerEpoch\"\n            min=\"0\"\n            max=\"9999\"\n            :formatter-fn=\"positiveFormatter\"\n            :disabled=\"editActionDisabled\"\n          ></b-form-spinbutton>\n        </div>\n\n        <div class=\"indexInput\">\n          <label>Validation Steps</label>\n          <b-form-spinbutton\n            v-model=\"validationSteps\"\n            min=\"0\"\n            max=\"9999\"\n            :formatter-fn=\"positiveFormatter\"\n            :disabled=\"editActionDisabled\"\n          ></b-form-spinbutton>\n        </div>\n\n        <div class=\"indexInput\">\n          <label>Validation Split</label>\n          <b-form-spinbutton\n            v-model=\"validationSplit\"\n            min=\"0.0\"\n            max=\"1.0\"\n            step=\"0.01\"\n            :formatter-fn=\"percentageFormatter\"\n            :disabled=\"editActionDisabled\"\n          ></b-form-spinbutton>\n        </div>\n      </b-form>\n    </b-collapse>\n    <div style=\"margin-top: 8px;\"></div>\n\n    <b-modal\n      :id=\"'model-view-' + component.index\"\n      title=\"TS Model View\"\n      :static=\"true\"\n      :hide-footer=\"true\"\n      size=\"lg\"\n      ref=\"modal\"\n    >\n      <div ref=\"draw\"></div>\n    </b-modal>\n  </component-layout>\n</template>\n\n<script>\n/**\n * @license\n * Copyright 2020 Rodrigo Oshiro. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n * =============================================================================\n */\nimport ComponentLayout from './ComponentLayout'\nimport { mixin } from './mixin'\nimport jquery from 'jquery'\nimport * as utilities from '../config/utilities.js'\n\nexport default {\n  name: 'TSModelCompiler',\n  components: { ComponentLayout },\n  mixins: [mixin],\n  data() {\n    let data = {\n      serializable: [\n        'shuffle',\n        'epochs',\n        'batchSize',\n        'stepsPerEpoch',\n        'validationSteps',\n        'validationSplit',\n        'inputUnitsNormalize',\n        'outputUnitsNormalize',\n        'compilerOptimizerSelected',\n        'compilerLossSelected'\n      ],\n      toggleIcon: 'caret-up',\n      utilities: utilities,\n      shuffle: true,\n      epochs: 0,\n      batchSize: 1,\n      stepsPerEpoch: 0,\n      validationSteps: 0,\n      validationSplit: 0,\n      inputUnitsNormalize: false,\n      outputUnitsNormalize: false,\n      compilerOptimizerSelected: null,\n      compilerLossSelected: null,\n      fileChart: false\n    }\n    return this.importData(data)\n  },\n  computed: {\n    editActionDisabled() {\n      let disabled = 0\n      disabled |= this.loading === true\n      disabled |= this.global.model === null\n      disabled |= this.global.inputShape === null\n      return disabled === 1\n    },\n    trashActionDisabled() {\n      return this.editActionDisabled\n    },\n    plugActionDisabled() {\n      return this.editActionDisabled\n    },\n    imageActionDisabled() {\n      let disabled = 0\n      disabled |= this.fileChart === false\n      return disabled === 1\n    }\n  },\n  watch: {\n    loading(next, prev) {\n      if (next === false) {\n        delete this.$options.sockets.onerror\n        delete this.$options.sockets.onopen\n        delete this.$options.sockets.onmessage\n      }\n    }\n  },\n  methods: {\n    onToggleToolbar() {\n      if (this.toggleIcon === 'caret-up') {\n        this.toggleIcon = 'caret-down'\n      } else if (this.toggleIcon === 'caret-down') {\n        this.toggleIcon = 'caret-up'\n      }\n    },\n    trashActionEvent(event) {\n      jquery(this.$refs['draw']).empty()\n      this.fileChart = false\n      this.output = null\n    },\n    plugActionNext(normalizationData, inputTensorJSON, outputTensorJSON) {\n      let callbacks = this.$tfvis.show.fitCallbacks(this.$refs['draw'], ['loss', 'mse'], {\n        width: 700,\n        height: 200,\n        callbacks: ['onEpochEnd']\n      })\n\n      this.$options.sockets.onerror = function() {\n        let worker = new Worker('worker.js')\n        worker.onmessage = function(event) {\n          if (event.data[0] === 'onEnd' && event.error) {\n            worker.terminate()\n            this.plugActionEnd(event)\n          } else if (event.data[0] === 'onEnd') {\n            this.$tfvis.show.history(this.$refs['draw'], event.data[1], ['loss', 'mse'], {\n              width: 700,\n              height: 200\n            })\n            this.$tf.loadLayersModel('indexeddb://model').then(\n              function(model) {\n                this.global.model.dispose()\n                this.global.model = model\n                this.output = {\n                  ...this.inputData,\n                  history: event.data[1],\n                  normalizationData: normalizationData\n                }\n                worker.terminate()\n                this.plugActionEnd(event)\n              }.bind(this)\n            )\n          } else if (event.data[0] === 'onError') {\n            console.error(event.data[1])\n            worker.terminate()\n            this.plugActionEnd(event)\n          } else {\n            this.fileChart = true\n            if (this.$refs['modal'].isShow) {\n              callbacks[event.data[0]](event.data[1], event.data[2])\n            }\n          }\n        }.bind(this)\n        this.global.model.save('indexeddb://model').then(\n          function() {\n            worker.postMessage(['compiler', this.getData(), inputTensorJSON, outputTensorJSON])\n          }.bind(this)\n        )\n      }.bind(this)\n\n      this.$options.sockets.onopen = function() {\n        this.global.model.save(this.$tf.io.browserHTTPRequest('./api/model')).then(\n          function() {\n            this.$socket.sendObj({\n              data: ['compiler', this.getData(), inputTensorJSON, outputTensorJSON]\n            })\n          }.bind(this)\n        )\n      }.bind(this)\n\n      this.$options.sockets.onmessage = function(message) {\n        let event = JSON.parse(message.data)\n        if (event.data[0] === 'onEnd') {\n          this.$tfvis.show.history(this.$refs['draw'], event.data[1], ['loss', 'mse'], {\n            width: 700,\n            height: 200\n          })\n          this.$tf.loadLayersModel('./api/model/model.json').then(\n            function(model) {\n              this.global.model.dispose()\n              this.global.model = model\n              this.output = {\n                ...this.inputData,\n                history: event.data[1],\n                normalizationData: normalizationData\n              }\n              this.$disconnect()\n              this.plugActionEnd(event)\n            }.bind(this)\n          )\n        } else if (event.data[0] === 'onError') {\n          console.error(event.data[1])\n          this.$disconnect()\n          this.plugActionEnd(event)\n        } else {\n          this.fileChart = true\n          if (this.$refs['modal'].isShow) {\n            callbacks[event.data[0]](event.data[1], event.data[2])\n          }\n        }\n      }.bind(this)\n\n      if (process.env.VUE_APP_WEBSOCKET_API === 'true') {\n        this.$connect()\n      } else {\n        this.$options.sockets.onerror()\n      }\n    },\n    plugActionEvent(event) {\n      let inputMatrix = this.global.inputMatrix\n      let outputMatrix = this.global.outputMatrix\n      if (this.global.training !== null) {\n        inputMatrix = this.global.training.inputMatrix\n      }\n      if (this.global.training !== null) {\n        outputMatrix = this.global.training.outputMatrix\n      }\n      this.global.loss = this.compilerLossSelected\n\n      let worker = new Worker('worker.js')\n      worker.onmessage = function(event) {\n        if (event.data[0] === 'compilerActionEvent') {\n          let normalizationData = event.data[1]\n          let inputTensorJSON = event.data[2]\n          let outputTensorJSON = event.data[3]\n          this.plugActionNext(normalizationData, inputTensorJSON, outputTensorJSON)\n          worker.terminate()\n        }\n      }.bind(this)\n      worker.postMessage([\n        'compilerActionEvent',\n        this.getData(),\n        inputMatrix,\n        outputMatrix,\n        this.global.inputShape,\n        this.global.outputShape\n      ])\n    }\n  }\n}\n</script>\n\n<style scoped>\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TSModelCompiler.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TSModelCompiler.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TSModelCompiler.vue?vue&type=template&id=7a5c7c08&scoped=true&\"\nimport script from \"./TSModelCompiler.vue?vue&type=script&lang=js&\"\nexport * from \"./TSModelCompiler.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7a5c7c08\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}