{"version":3,"sources":["webpack:///./src/components/DatasetLoader.vue?884b","webpack:///./src/components/DatasetLoader.vue?3580","webpack:///src/components/DatasetLoader.vue","webpack:///./src/components/DatasetLoader.vue?aaeb","webpack:///./src/components/DatasetLoader.vue?db3e","webpack:///./src/components/DatasetLoader.vue?ffda"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","component","length","loading","on","$event","staticClass","ref","selectLocalFile","model","value","callback","$$v","localFile","expression","_v","remoteFile","selectRemoteFile","staticRenderFns","name","components","mixins","mixin","data","serializable","fileName","importData","computed","plugActionDisabled","disabled","methods","loadFileContent","output","content","plugActionEnd","event","MouseEvent","$refs","$el","children","click","target","files","$emit","file","reader","onload","readAsArrayBuffer","result","$axios","plugActionEvent"],"mappings":"kHAAA,yBAA4e,EAAG,G,yCCA/e,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,mBAAmB,CAACE,MAAM,CAAC,UAAYN,EAAIO,UAAU,OAASP,EAAIQ,OAAO,QAAUR,EAAIS,SAASC,GAAG,CAAC,mBAAmB,SAASC,GAAQX,EAAIO,UAAUI,GAAQ,gBAAgB,SAASA,GAAQX,EAAIQ,OAAOG,GAAQ,iBAAiB,SAASA,GAAQX,EAAIS,QAAQE,KAAU,CAACP,EAAG,gBAAgB,CAACQ,YAAY,QAAQ,CAACR,EAAG,cAAc,CAACS,IAAI,oBAAoBD,YAAY,gBAAgBN,MAAM,CAAC,YAAc,0BAA0B,WAAU,GAAMI,GAAG,CAAC,OAASV,EAAIc,iBAAiBC,MAAM,CAACC,MAAOhB,EAAa,UAAEiB,SAAS,SAAUC,GAAMlB,EAAImB,UAAUD,GAAKE,WAAW,eAAehB,EAAG,uBAAuB,CAACA,EAAG,WAAW,CAACQ,YAAY,gBAAgBF,GAAG,CAAC,MAAQV,EAAIc,kBAAkB,CAACd,EAAIqB,GAAG,wBAAwB,IAAI,GAAGjB,EAAG,gBAAgB,CAACQ,YAAY,QAAQ,CAACR,EAAG,eAAe,CAACE,MAAM,CAAC,YAAc,kCAAkCS,MAAM,CAACC,MAAOhB,EAAc,WAAEiB,SAAS,SAAUC,GAAMlB,EAAIsB,WAAWJ,GAAKE,WAAW,gBAAgBhB,EAAG,uBAAuB,CAACA,EAAG,WAAW,CAACQ,YAAY,gBAAgBF,GAAG,CAAC,MAAQV,EAAIuB,mBAAmB,CAACvB,EAAIqB,GAAG,yBAAyB,IAAI,IAAI,IACvpCG,EAAkB,G,mEC4CtB,wCAEA,GACEC,KAAM,gBACNC,WAAY,CAAd,wBACEC,OAAQ,CAACC,EAAX,MACEC,KAJF,WAKI,IAAJ,GACMC,aAAc,CAAC,YAAa,aAAc,YAC1CX,UAAW,KACXG,WAAY,KACZS,SAAU,IAEZ,OAAO9B,KAAK+B,WAAWH,IAEzBI,SAAU,CACRC,mBADJ,WAEM,IAAN,IAEM,OADAC,IAA6B,IAAjBlC,KAAKQ,QACG,IAAb0B,IAGXC,QAAS,CACPC,gBADJ,SACA,GACMpC,KAAKqC,OAASC,EACdtC,KAAKuC,iBAEP1B,gBALJ,SAKA,cACM,GAAI2B,aAAiBC,WACnBzC,KAAK0C,MAAM,qBAAqBC,IAAIC,SAAS,GAAGC,aACxD,uBACQ,GAAIL,EAAMM,OAAOC,MAAMxC,OAAQ,CAC7BP,KAAKQ,SAAU,EACfR,KAAKgD,MAAM,eAAgBhD,KAAKQ,SAChC,IAAV,oBACA,iBACUR,KAAK8B,SAAWmB,EAAKzB,KACrB0B,EAAOC,OAAS,SAA1B,uCACUD,EAAOE,kBAAkBH,SAEnC,yBACQjD,KAAKoC,gBAAgBI,EAAMa,SAG/B/B,iBAtBJ,WAsBA,WACA,OACMtB,KAAKQ,SAAU,EACfR,KAAKgD,MAAM,eAAgBhD,KAAKQ,SAChCR,KAAKsD,OACX,qBAAQ,aAAR,gBACA,kBACQ,EAAR,EACQ,EAAR,+BAEA,mBACA,sBACU,EAAV,KACU,EAAV,OACA,oBACA,kBACY,EAAZ,EACY,EAAZ,+BAEA,mBACY,EAAZ,EACY,EAAZ,+BAEA,oBACA,UACc,EAAd,oCACc,EAAd,kCAIU,EAAV,EACU,EAAV,gCAGA,oBACA,UACU,EAAV,oCACU,EAAV,iCAIIC,gBA/DJ,SA+DA,GACMvD,KAAKsB,iBAAiBkB,MCnI2T,I,kCCSnVlC,EAAY,eACd,EACAR,EACAyB,GACA,EACA,KACA,WACA,MAIa,aAAAjB,E,oECpBf,yBAAod,EAAG,G","file":"js/chunk-19d90b58.4fd8275f.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DatasetLoader.vue?vue&type=style&index=1&id=67a6b664&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DatasetLoader.vue?vue&type=style&index=1&id=67a6b664&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('component-layout',{attrs:{\"component\":_vm.component,\"length\":_vm.length,\"loading\":_vm.loading},on:{\"update:component\":function($event){_vm.component=$event},\"update:length\":function($event){_vm.length=$event},\"update:loading\":function($event){_vm.loading=$event}}},[_c('b-input-group',{staticClass:\"mb-2\"},[_c('b-form-file',{ref:\"select-local-file\",staticClass:\"select-button\",attrs:{\"placeholder\":\"Choose a data source...\",\"no-drop\":true},on:{\"change\":_vm.selectLocalFile},model:{value:(_vm.localFile),callback:function ($$v) {_vm.localFile=$$v},expression:\"localFile\"}}),_c('b-input-group-append',[_c('b-button',{staticClass:\"select-button\",on:{\"click\":_vm.selectLocalFile}},[_vm._v(\"Select local file\")])],1)],1),_c('b-input-group',{staticClass:\"mb-2\"},[_c('b-form-input',{attrs:{\"placeholder\":\"Choose a remote web address...\"},model:{value:(_vm.remoteFile),callback:function ($$v) {_vm.remoteFile=$$v},expression:\"remoteFile\"}}),_c('b-input-group-append',[_c('b-button',{staticClass:\"select-button\",on:{\"click\":_vm.selectRemoteFile}},[_vm._v(\"Select remote file\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <component-layout :component.sync=\"component\" :length.sync=\"length\" :loading.sync=\"loading\">\n    <b-input-group class=\"mb-2\">\n      <b-form-file\n        v-model=\"localFile\"\n        ref=\"select-local-file\"\n        class=\"select-button\"\n        placeholder=\"Choose a data source...\"\n        :no-drop=\"true\"\n        @change=\"selectLocalFile\"\n      ></b-form-file>\n      <b-input-group-append>\n        <b-button class=\"select-button\" @click=\"selectLocalFile\">Select local file</b-button>\n      </b-input-group-append>\n    </b-input-group>\n\n    <b-input-group class=\"mb-2\">\n      <b-form-input v-model=\"remoteFile\" placeholder=\"Choose a remote web address...\"></b-form-input>\n      <b-input-group-append>\n        <b-button class=\"select-button\" @click=\"selectRemoteFile\">Select remote file</b-button>\n      </b-input-group-append>\n    </b-input-group>\n  </component-layout>\n</template>\n\n<script>\n/**\n * @license\n * Copyright 2020 Rodrigo Oshiro. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n * =============================================================================\n */\nimport ComponentLayout from './ComponentLayout'\nimport { mixin } from './mixin'\nimport path from 'path'\nconst cors = process.env.VUE_APP_CORS_API\n\nexport default {\n  name: 'DatasetLoader',\n  components: { ComponentLayout },\n  mixins: [mixin],\n  data() {\n    let data = {\n      serializable: ['localFile', 'remoteFile', 'filename'],\n      localFile: null,\n      remoteFile: null,\n      fileName: ''\n    }\n    return this.importData(data)\n  },\n  computed: {\n    plugActionDisabled() {\n      let disabled = 0\n      disabled |= this.loading === true\n      return disabled === 1\n    }\n  },\n  methods: {\n    loadFileContent(content) {\n      this.output = content\n      this.plugActionEnd()\n    },\n    selectLocalFile(event) {\n      if (event instanceof MouseEvent) {\n        this.$refs['select-local-file'].$el.children[0].click()\n      } else if (event instanceof Event) {\n        if (event.target.files.length) {\n          this.loading = true\n          this.$emit('onPlugAction', this.loading)\n          let file = event.target.files[0]\n          let reader = new FileReader()\n          this.fileName = file.name\n          reader.onload = e => this.selectLocalFile(e.target)\n          reader.readAsArrayBuffer(file)\n        }\n      } else if (event instanceof FileReader) {\n        this.loadFileContent(event.result)\n      }\n    },\n    selectRemoteFile() {\n      let content = null\n      this.loading = true\n      this.$emit('onPlugAction', this.loading)\n      this.$axios\n        .get(this.remoteFile, { responseType: 'arraybuffer' })\n        .then(response => {\n          content = response\n          content.response = response.request.response\n        })\n        .catch(response => {\n          if (response.request.status === 0) {\n            content = null\n            this.$axios\n              .get(cors + this.remoteFile)\n              .then(response => {\n                content = response\n                content.response = response.request.response\n              })\n              .catch(response => {\n                content = response\n                content.response = response.request.response\n              })\n              .finally(() => {\n                if (content != null) {\n                  this.fileName = path.basename(content.config.url)\n                  this.loadFileContent(content.response)\n                }\n              })\n          } else {\n            content = response\n            content.response = response.request.response\n          }\n        })\n        .finally(() => {\n          if (content != null) {\n            this.fileName = path.basename(content.config.url)\n            this.loadFileContent(content.response)\n          }\n        })\n    },\n    plugActionEvent(event) {\n      this.selectRemoteFile(event)\n    }\n  }\n}\n</script>\n\n<style>\nlabel.custom-file-label::after {\n  display: none;\n}\n</style>\n<style scoped>\n.select-button {\n  width: 200px;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DatasetLoader.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DatasetLoader.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./DatasetLoader.vue?vue&type=template&id=67a6b664&scoped=true&\"\nimport script from \"./DatasetLoader.vue?vue&type=script&lang=js&\"\nexport * from \"./DatasetLoader.vue?vue&type=script&lang=js&\"\nimport style0 from \"./DatasetLoader.vue?vue&type=style&index=0&lang=css&\"\nimport style1 from \"./DatasetLoader.vue?vue&type=style&index=1&id=67a6b664&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"67a6b664\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DatasetLoader.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DatasetLoader.vue?vue&type=style&index=0&lang=css&\""],"sourceRoot":""}